"use strict";(globalThis.webpackChunk=globalThis.webpackChunk||[]).push([["ui_packages_copilot-auth-token_copilot-auth-token_ts-ui_packages_diffs_diff-parts_ts-ui_packa-3ba26f","ui_packages_diffs_diff-parts_ts"],{92520:(e,t,i)=>{function n(e,t,i){return t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}i.d(t,{Y:()=>AuthToken});let AuthToken=class AuthToken{get authorizationHeaderValue(){return`GitHub-Bearer ${this.value}`}needsRefreshing(e){return this.isExpired||this.ssoChanged(e)}get isExpired(){let e=new Date(this.expiration);return new Date(Date.UTC(e.getUTCFullYear(),e.getUTCMonth(),e.getUTCDate(),e.getUTCHours(),e.getUTCMinutes(),e.getUTCSeconds(),e.getUTCMilliseconds()))<new Date(Date.now()+15e3)}ssoChanged(e){return!(this.ssoOrgIDs.every(t=>e.includes(t))&&e.every(e=>this.ssoOrgIDs.includes(e)))}static fromResult(e,t){return new AuthToken(e.token,e.expiration,t)}serialize(){return{value:this.value,expiration:this.expiration,ssoOrgIDs:this.ssoOrgIDs}}static deserialize(e){return new AuthToken(e.value,e.expiration,e.ssoOrgIDs)}constructor(e,t,i){n(this,"value",void 0),n(this,"expiration",void 0),n(this,"ssoOrgIDs",void 0),this.value=e,this.expiration=t,this.ssoOrgIDs=i}}},879:(e,t,i)=>{i.d(t,{J:()=>CopilotAuthTokenProvider});var n=i(92520),l=i(85351),r=i(60039);function a(e,t,i){return t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}let CopilotAuthTokenProvider=class CopilotAuthTokenProvider{async getAuthToken(){let e=this.getLocalStorageAuthToken();return e?this.validateAuthToken(e):this.fetchAuthToken()}setLocalStorageAuthToken(e){this.copilotLocalStorage.setItem(this.storageKey,JSON.stringify(e.serialize()))}getLocalStorageAuthToken(){let e=this.copilotLocalStorage.getItem(this.storageKey);return e?n.Y.deserialize(JSON.parse(e)):null}removeLocalStorageAuthToken(){this.copilotLocalStorage.removeItem(this.storageKey)}async validateAuthToken(e){return e.needsRefreshing(this.ssoOrgIDs)?this.fetchAuthToken():e}fetchAuthToken(){return this.currentAuthTokenRequest||(this.currentAuthTokenRequest=this._fetchAuthToken()),this.currentAuthTokenRequest}async _fetchAuthToken(){let e=await (0,r.lS)(this.tokenEndpoint,{method:"POST"});if(e.ok){let t=await e.json();this.currentAuthTokenRequest=null;let i=n.Y.fromResult(t,this.ssoOrgIDs);return this.setLocalStorageAuthToken(i),i}throw this.currentAuthTokenRequest=null,Error("Failed to mint new auth token")}constructor(e,t="/github-copilot/chat/token",i="COPILOT_AUTH_TOKEN"){a(this,"tokenEndpoint",void 0),a(this,"storageKey",void 0),a(this,"ssoOrgIDs",void 0),a(this,"currentAuthTokenRequest",void 0),a(this,"copilotLocalStorage",void 0),this.ssoOrgIDs=e,this.currentAuthTokenRequest=null,this.copilotLocalStorage=(0,l.A)("localStorage",{throwQuotaErrorsOnSet:!1,ttl:864e5}),this.storageKey=i,this.tokenEndpoint=t}}},87591:(e,t,i)=>{function n(e){return`line-${e}`}function l(e,t,i){return`${e}${"left"===t?"L":"R"}${i}`}function r(e){return"DELETION"===e?"left":"right"}function a(e,t=!1,i=!1){if(i)return"var(--bgColor-attention-muted, var(--color-attention-subtle))";switch(e){case"ADDITION":return t?"var(--diffBlob-additionNum-bgColor, var(--diffBlob-addition-bgColor-num))":"var(--diffBlob-additionLine-bgColor, var(--diffBlob-addition-bgColor-line))";case"DELETION":return t?"var(--diffBlob-deletionNum-bgColor, var(--diffBlob-deletion-bgColor-num))":"var(--diffBlob-deletionLine-bgColor, var(--diffBlob-deletion-bgColor-line))";case"HUNK":return t?"var(--diffBlob-hunkNum-bgColor, var(--diffBlob-hunk-bgColor-num))":"var(--diffBlob-hunkLine-bgColor, var(--bgColor-accent-muted))";case"EMPTY":return t?"var(--diffBlob-emptyNum-bgColor, var(--diffBlob-hunk-bgColor-num))":"var(--diffBlob-emptyLine-bgColor, var(--bgColor-accent-muted))";default:return}}function s(e){let t=0;if(e)for(let i of e)t=Math.max(t,i?.left??0,i?.right??0);return Math.max(8*t.toString().length+20,40).toString()}i.d(t,{IQ:()=>l,Sq:()=>n,XU:()=>r,c7:()=>s,gK:()=>a})},19507:(e,t,i)=>{i.d(t,{Jg:()=>c,nq:()=>f,uP:()=>h.u,$e:()=>x,P3:()=>p,wj:()=>y,l4:()=>C,Qe:()=>b,Ah:()=>I});var n=i(74848),l=i(21728),r=i(34164),a=i(45968),s=i(87591);let o=e=>{let t,i,o,d,c,u,f,h,m,p,g=(0,l.c)(34),{dragging:x,isHighlighted:y,isLeftColumn:b,colSpan:N,line:v,lineAnchor:j}=e,T=v.html,C="";if(["ADDITION","DELETION"].includes(v.type)&&["+","-"].includes(T[0])){let e;C=T[0],g[0]!==T?(e=T.slice(1),g[0]=T,g[1]=e):e=g[1],T=e}let k=x&&y,I=b&&"HUNK"!==v.type;g[2]!==k||g[3]!==I?(t=(0,r.$)("diff-text-cell",{"border-left color-border-accent-emphasis":k,"border-right":I}),g[2]=k,g[3]=I,g[4]=t):t=g[4],g[5]!==j?(i=j?(0,s.Sq)(j):void 0,g[5]=j,g[6]=i):i=g[6],g[7]!==y||g[8]!==v.type?(o=(0,s.gK)(v.type,!1,y),g[7]=y,g[8]=v.type,g[9]=o):o=g[9],g[10]!==o?(d={backgroundColor:o},g[10]=o,g[11]=d):d=g[11];let S=C,L="ADDITION"===v.type,_="DELETION"===v.type;g[12]!==L||g[13]!==_?(c=(0,r.$)("diff-text syntax-highlighted-line",{addition:L,deletion:_}),g[12]=L,g[13]=_,g[14]=c):c=g[14];let D=e.lineChild,O="HUNK"===v.type;g[15]!==O?(u=(0,r.$)("diff-text-inner",{"color-fg-muted":O}),g[15]=O,g[16]=u):u=g[16];let w="CONTEXT"===v.type?"-7px":void 0;return g[17]!==w?(f={marginLeft:w},g[17]=w,g[18]=f):f=g[18],g[19]!==T||g[20]!==u||g[21]!==f?(h=(0,n.jsx)(a.$6,{className:u,html:T,style:f}),g[19]=T,g[20]=u,g[21]=f,g[22]=h):h=g[22],g[23]!==C||g[24]!==e.lineChild||g[25]!==h||g[26]!==c?(m=(0,n.jsxs)("code",{"data-code-marker":S,className:c,children:[D,h]}),g[23]=C,g[24]=e.lineChild,g[25]=h,g[26]=c,g[27]=m):m=g[27],g[28]!==N||g[29]!==m||g[30]!==t||g[31]!==i||g[32]!==d?(p=(0,n.jsx)("td",{className:t,colSpan:N,id:i,style:d,children:m}),g[28]=N,g[29]=m,g[30]=t,g[31]=i,g[32]=d,g[33]=p):p=g[33],p};try{o.displayName||(o.displayName="DiffText")}catch{}let d=e=>{let t,i,a,o,d,c,u,f,h,m,p,g,x,y=(0,l.c)(30);y[0]!==e?({ariaLabel:t,children:i,hasExpanderButton:o,lineType:u,colSpan:a,interactiveProps:d,isHighlighted:c,...f}=e,y[0]=e,y[1]=t,y[2]=i,y[3]=a,y[4]=o,y[5]=d,y[6]=c,y[7]=u,y[8]=f):(t=y[1],i=y[2],a=y[3],o=y[4],d=y[5],c=y[6],u=y[7],f=y[8]),y[9]!==i?(h=(0,n.jsx)("code",{className:"pr-2",children:i}),y[9]=i,y[10]=h):h=y[10];let b=h;if(d){let e;y[11]!==t||y[12]!==d||y[13]!==b?(e=(0,n.jsx)("button",{className:"diff-line-number-button",...d,"aria-label":t,children:b}),y[11]=t,y[12]=d,y[13]=b,y[14]=e):e=y[14],b=e}let N=d?void 0:t,v=!!d;y[15]!==o||y[16]!==v?(m=(0,r.$)("diff-line-number",{"has-expander":o,clickable:v}),y[15]=o,y[16]=v,y[17]=m):m=y[17];let j=a||1;return y[18]!==c||y[19]!==u?(p=(0,s.gK)(u,!0,c),y[18]=c,y[19]=u,y[20]=p):p=y[20],y[21]!==p?(g={backgroundColor:p},y[21]=p,y[22]=g):g=y[22],y[23]!==f||y[24]!==N||y[25]!==m||y[26]!==j||y[27]!==g||y[28]!==b?(x=(0,n.jsx)("td",{"aria-label":N,"data-line-number":!0,className:m,colSpan:j,style:g,...f,children:b}),y[23]=f,y[24]=N,y[25]=m,y[26]=j,y[27]=g,y[28]=b,y[29]=x):x=y[29],x};try{d.displayName||(d.displayName="LineNumber")}catch{}let c=e=>{let t,i,r,a,s=(0,l.c)(28),{dragging:c,isHighlighted:u,isLeftColumn:f,isSplit:h,lineAnchor:m,line:p,lineChild:g,onLineNumberClick:x}=e,y="CONTEXT"===p.type||"INJECTED_CONTEXT"===p.type,b="ADDITION"!==p.type,N=b||!h,v="DELETION"!==p.type,j=v&&!y||!h,T=h&&y?f?p.left:p.right:p.left;return s[0]!==T||s[1]!==u||s[2]!==p.left||s[3]!==p.right||s[4]!==p.type||s[5]!==x||s[6]!==b||s[7]!==N?(t=N&&(0,n.jsx)(d,{ariaLabel:`Line ${b?p.left?.toString():p.right?.toString()}`,lineType:p.type,interactiveProps:x?{onClick:x}:null,isHighlighted:u,children:b&&T}),s[0]=T,s[1]=u,s[2]=p.left,s[3]=p.right,s[4]=p.type,s[5]=x,s[6]=b,s[7]=N,s[8]=t):t=s[8],s[9]!==u||s[10]!==p.left||s[11]!==p.right||s[12]!==p.type||s[13]!==x||s[14]!==v||s[15]!==j?(i=j&&(0,n.jsx)(d,{ariaLabel:`Line ${v?p.right?.toString():p.left?.toString()}`,lineType:p.type,interactiveProps:x?{onClick:x}:null,isHighlighted:u,children:v&&p.right}),s[9]=u,s[10]=p.left,s[11]=p.right,s[12]=p.type,s[13]=x,s[14]=v,s[15]=j,s[16]=i):i=s[16],s[17]!==c||s[18]!==u||s[19]!==f||s[20]!==p||s[21]!==m||s[22]!==g?(r=(0,n.jsx)(o,{dragging:c,isHighlighted:u,isLeftColumn:f,line:p,lineAnchor:m,lineChild:g}),s[17]=c,s[18]=u,s[19]=f,s[20]=p,s[21]=m,s[22]=g,s[23]=r):r=s[23],s[24]!==t||s[25]!==i||s[26]!==r?(a=(0,n.jsxs)(n.Fragment,{children:[t,i,r]}),s[24]=t,s[25]=i,s[26]=r,s[27]=a):a=s[27],a};try{c.displayName||(c.displayName="DiffLinePart")}catch{}let u={DiffPlaceholderSVG:"DiffPlaceholder-module__DiffPlaceholderSVG--LNh5I"};function f(){let e,t,i=(0,l.c)(2);return i[0]===Symbol.for("react.memo_cache_sentinel")?(e=(0,n.jsxs)("clipPath",{id:"diff-placeholder",children:[(0,n.jsx)("rect",{height:"11.9298746",rx:"2",width:"67.0175439",x:"0",y:"0"}),(0,n.jsx)("rect",{height:"11.9298746",rx:"2",width:"100.701754",x:"18.9473684",y:"47.7194983"}),(0,n.jsx)("rect",{height:"11.9298746",rx:"2",width:"37.8947368",x:"0",y:"71.930126"}),(0,n.jsx)("rect",{height:"11.9298746",rx:"2",width:"53.3333333",x:"127.017544",y:"48.0703769"}),(0,n.jsx)("rect",{height:"11.9298746",rx:"2",width:"72.9824561",x:"187.719298",y:"48.0703769"}),(0,n.jsx)("rect",{height:"11.9298746",rx:"2",width:"140.350877",x:"76.8421053",y:"0"}),(0,n.jsx)("rect",{height:"11.9298746",rx:"2",width:"140.350877",x:"17.8947368",y:"23.8597491"}),(0,n.jsx)("rect",{height:"11.9298746",rx:"2",width:"173.684211",x:"166.315789",y:"23.8597491"})]}),i[0]=e):e=i[0],i[1]===Symbol.for("react.memo_cache_sentinel")?(t=(0,n.jsx)("svg",{"aria-hidden":"true",version:"1.1",viewBox:"0 0 340 84",xmlns:"http://www.w3.org/2000/svg",className:u.DiffPlaceholderSVG,children:(0,n.jsxs)("defs",{children:[e,(0,n.jsxs)("linearGradient",{id:"animated-diff-gradient",spreadMethod:"reflect",x1:"0",x2:"0",y1:"0",y2:"1",children:[(0,n.jsx)("stop",{offset:"0",stopColor:"#eee"}),(0,n.jsx)("stop",{offset:"0.2",stopColor:"#eee"}),(0,n.jsx)("stop",{offset:"0.5",stopColor:"#ddd"}),(0,n.jsx)("stop",{offset:"0.8",stopColor:"#eee"}),(0,n.jsx)("stop",{offset:"1",stopColor:"#eee"}),(0,n.jsx)("animateTransform",{attributeName:"y1",dur:"1s",repeatCount:"3",values:"0%; 100%; 0"}),(0,n.jsx)("animateTransform",{attributeName:"y2",dur:"1s",repeatCount:"3",values:"100%; 200%; 0"})]})]})}),i[1]=t):t=i[1],t}try{f.displayName||(f.displayName="DiffPlaceholder")}catch{}var h=i(42597);i(24965);var m=i(38621);function p(e){let t,i,r,a=(0,l.c)(10),{currentLine:s,hunkButton:c,isLeftColumn:u,isSplit:f}=e;if(f&&!u)return null;a[0]!==s.type||a[1]!==c||a[2]!==f?(t=c?(0,n.jsx)(d,{colSpan:f?1:2,hasExpanderButton:!0,lineType:s.type,children:c}):(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(d,{lineType:s.type,children:(0,n.jsx)(m.KebabHorizontalIcon,{})}),!f&&(0,n.jsx)(d,{lineType:s.type,children:(0,n.jsx)(m.KebabHorizontalIcon,{})})]}),a[0]=s.type,a[1]=c,a[2]=f,a[3]=t):t=a[3];let h=f?3:void 0;return a[4]!==s||a[5]!==h?(i=(0,n.jsx)(o,{isHighlighted:!1,isLeftColumn:!0,colSpan:h,line:s}),a[4]=s,a[5]=h,a[6]=i):i=a[6],a[7]!==t||a[8]!==i?(r=(0,n.jsxs)(n.Fragment,{children:[t,i]}),a[7]=t,a[8]=i,a[9]=r):r=a[9],r}try{p.displayName||(p.displayName="HunkHeaderDiffLine")}catch{}function g(){let e,t=(0,l.c)(1);return t[0]===Symbol.for("react.memo_cache_sentinel")?(e=(0,n.jsx)("div",{className:"hunk-kebab-icon pr-2 pb-1",children:(0,n.jsx)(m.KebabHorizontalIcon,{})}),t[0]=e):e=t[0],e}try{g.displayName||(g.displayName="HunkKebabIcon")}catch{}function x(e){let t,i,a,s=(0,l.c)(5),{isLeftColumn:o}=e;return s[0]===Symbol.for("react.memo_cache_sentinel")?(t=(0,n.jsx)(d,{lineType:"EMPTY"}),s[0]=t):t=s[0],s[1]!==o?(i=(0,r.$)("empty-diff-line",{"border-right":o}),s[1]=o,s[2]=i):i=s[2],s[3]!==i?(a=(0,n.jsxs)(n.Fragment,{children:[t,(0,n.jsx)("td",{className:i,colSpan:1})]}),s[3]=i,s[4]=a):a=s[4],a}try{x.displayName||(x.displayName="EmptyDiffLine")}catch{}function y(e){let t,i,r,a,s,o,d,c,u=(0,l.c)(15);return u[0]===Symbol.for("react.memo_cache_sentinel")?(t=(0,n.jsx)("thead",{className:"sr-only",children:(0,n.jsxs)("tr",{children:[(0,n.jsx)("th",{scope:"col",children:"Original file line number"}),(0,n.jsx)("th",{scope:"col",children:"Original file line"}),(0,n.jsx)("th",{scope:"col",children:"Diff line number"}),(0,n.jsx)("th",{scope:"col",children:"Diff line change"})]})}),u[0]=t):t=u[0],u[1]!==e.lineWidth?(i=(0,n.jsx)("col",{width:e.lineWidth}),u[1]=e.lineWidth,u[2]=i):i=u[2],u[3]===Symbol.for("react.memo_cache_sentinel")?(r=(0,n.jsx)("col",{}),u[3]=r):r=u[3],u[4]!==e.lineWidth?(a=(0,n.jsx)("col",{width:e.lineWidth}),u[4]=e.lineWidth,u[5]=a):a=u[5],u[6]===Symbol.for("react.memo_cache_sentinel")?(s=(0,n.jsx)("col",{}),u[6]=s):s=u[6],u[7]!==i||u[8]!==a?(o=(0,n.jsxs)("colgroup",{children:[i,r,a,s]}),u[7]=i,u[8]=a,u[9]=o):o=u[9],u[10]!==e.children?(d=(0,n.jsx)("tbody",{children:e.children}),u[10]=e.children,u[11]=d):d=u[11],u[12]!==o||u[13]!==d?(c=(0,n.jsxs)(n.Fragment,{children:[t,o,d]}),u[12]=o,u[13]=d,u[14]=c):c=u[14],c}try{y.displayName||(y.displayName="SplitDiffTable")}catch{}function b(e){let t,i,r,a,s,o,d,c=(0,l.c)(13);return c[0]===Symbol.for("react.memo_cache_sentinel")?(t=(0,n.jsx)("thead",{className:"sr-only",children:(0,n.jsxs)("tr",{children:[(0,n.jsx)("th",{scope:"col",children:"Original file line number"}),(0,n.jsx)("th",{scope:"col",children:"Diff line number"}),(0,n.jsx)("th",{scope:"col",children:"Diff line change"})]})}),c[0]=t):t=c[0],c[1]!==e.lineWidth?(i=(0,n.jsx)("col",{width:e.lineWidth}),r=(0,n.jsx)("col",{width:e.lineWidth}),c[1]=e.lineWidth,c[2]=i,c[3]=r):(i=c[2],r=c[3]),c[4]===Symbol.for("react.memo_cache_sentinel")?(a=(0,n.jsx)("col",{width:"100%"}),c[4]=a):a=c[4],c[5]!==i||c[6]!==r?(s=(0,n.jsxs)("colgroup",{children:[i,r,a]}),c[5]=i,c[6]=r,c[7]=s):s=c[7],c[8]!==e.children?(o=(0,n.jsx)("tbody",{children:e.children}),c[8]=e.children,c[9]=o):o=c[9],c[10]!==s||c[11]!==o?(d=(0,n.jsxs)(n.Fragment,{children:[t,s,o]}),c[10]=s,c[11]=o,c[12]=d):d=c[12],d}try{b.displayName||(b.displayName="UnifiedDiffTable")}catch{}let N={diffTextCell:"UnifiedDiffLines-module__diffTextCell--UAuIr",diffHunkCell:"UnifiedDiffLines-module__diffHunkCell--qPkzg",diffHunkText:"UnifiedDiffLines-module__diffHunkText--Sfwuu",diffTextInner:"UnifiedDiffLines-module__diffTextInner--IuEAA",diffTextMarker:"UnifiedDiffLines-module__diffTextMarker--MdAo4",syntaxHighlightedAdditionLine:"UnifiedDiffLines-module__syntaxHighlightedAdditionLine--lU_S2",syntaxHighlightedDeletionLine:"UnifiedDiffLines-module__syntaxHighlightedDeletionLine--xgQwN",diffLineNumber:"UnifiedDiffLines-module__diffLineNumber--bzzxf",unifiedDiffLines:"UnifiedDiffLines-module__unifiedDiffLines--SSvV2"};function v(e){let t,i,r,a,o=(0,l.c)(9),{line:d,children:c}=e;return o[0]!==d.type?(t=(0,s.gK)(d.type,!0),o[0]=d.type,o[1]=t):t=o[1],o[2]!==t?(i={backgroundColor:t,textAlign:"center"},o[2]=t,o[3]=i):i=o[3],o[4]!==c?(r=(0,n.jsx)("code",{children:c}),o[4]=c,o[5]=r):r=o[5],o[6]!==i||o[7]!==r?(a=(0,n.jsx)("td",{className:N.diffLineNumber,style:i,children:r}),o[6]=i,o[7]=r,o[8]=a):a=o[8],a}function j(e){let t,i,s,o=(0,l.c)(4),{line:d}=e;o[0]===Symbol.for("react.memo_cache_sentinel")?(t=(0,n.jsx)(g,{}),o[0]=t):t=o[0],o[1]===Symbol.for("react.memo_cache_sentinel")?(i=(0,r.$)(N.diffTextInner,"color-fg-muted"),o[1]=i):i=o[1];let c=d.html;return o[2]!==c?(s=(0,n.jsx)("td",{colSpan:4,className:N.diffHunkCell,valign:"top",children:(0,n.jsxs)("div",{className:"d-flex flex-row",children:[t,(0,n.jsx)("code",{className:N.diffHunkText,children:(0,n.jsx)(a.$6,{className:i,html:c})})]})}),o[2]=c,o[3]=s):s=o[3],s}function T(e){let t,i,o,d=(0,l.c)(13),{line:c}=e,u="HUNK"===c.type,f="ADDITION"!==c.type,h="DELETION"!==c.type,m="ADDITION"===c.type?"+":"DELETION"===c.type?"-":void 0,p=!!m;return d[0]!==u||d[1]!==c?(t=u&&(0,n.jsx)(j,{line:c}),d[0]=u,d[1]=c,d[2]=t):t=d[2],d[3]!==u||d[4]!==c||d[5]!==m||d[6]!==f||d[7]!==p||d[8]!==h?(i=!u&&(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(v,{line:c,children:f&&c.left}),(0,n.jsx)(v,{line:c,children:h&&c.right}),(0,n.jsx)("td",{className:N.diffTextCell,style:{backgroundColor:(0,s.gK)(c.type,!1)},children:(0,n.jsxs)("code",{className:(0,r.$)("ADDITION"===c.type&&N.syntaxHighlightedAdditionLine,"DELETION"===c.type&&N.syntaxHighlightedDeletionLine),children:[p&&(0,n.jsx)("span",{className:N.diffTextMarker,children:m}),(0,n.jsx)(a.$6,{className:N.diffTextInner,html:c.html,style:{backgroundColor:(0,s.gK)(c.type,!1)}})]})})]}),d[3]=u,d[4]=c,d[5]=m,d[6]=f,d[7]=p,d[8]=h,d[9]=i):i=d[9],d[10]!==t||d[11]!==i?(o=(0,n.jsxs)("tr",{children:[t,i]}),d[10]=t,d[11]=i,d[12]=o):o=d[12],o}function C(e){let t,i,a,s,o=(0,l.c)(14),{className:d,lines:c,lineWidth:u,tabSize:f}=e;if(o[0]!==c||o[1]!==f){let e;o[3]!==f?(e=(e,t)=>(0,n.jsx)(T,{line:e,tabSize:f},t),o[3]=f,o[4]=e):e=o[4],t=c.map(e),o[0]=c,o[1]=f,o[2]=t}else t=o[2];let h=t;return o[5]!==d?(i=(0,r.$)(N.unifiedDiffLines,d,"tab-size"),o[5]=d,o[6]=i):i=o[6],o[7]!==h||o[8]!==u?(a=(0,n.jsx)(b,{lineWidth:u,children:h}),o[7]=h,o[8]=u,o[9]=a):a=o[9],o[10]!==i||o[11]!==a||o[12]!==f?(s=(0,n.jsx)("table",{className:i,"data-tab-size":f,children:a}),o[10]=i,o[11]=a,o[12]=f,o[13]=s):s=o[13],s}try{v.displayName||(v.displayName="LineNumberCell")}catch{}try{j.displayName||(j.displayName="HunkCell")}catch{}try{T.displayName||(T.displayName="UnifiedDiffRow")}catch{}try{C.displayName||(C.displayName="UnifiedDiffLines")}catch{}function k(e){return"LEFT"===e?"-":"RIGHT"===e?"+":""}function I({startDiffSide:e,endDiffSide:t,originalStartLine:i,originalEndLine:n}){return e&&t&&"number"==typeof i&&"number"==typeof n?0===i&&1===n&&e===t?"-1 to +1":e===t&&i===n?`${k(e)}${i}`:`${k(e)}${i} to ${k(t)}${n}`:""}},84483:(e,t,i)=>{i.d(t,{Dd:()=>c,EW:()=>r,N0:()=>u,ZD:()=>f,i8:()=>h,j$:()=>m,jU:()=>d,o9:()=>p,pd:()=>s,yI:()=>o});var n=i(66871),l=i(96679);function r(e){let t=e.match(/^#?(diff-[a-f0-9]+)(L|R)(\d+)(?:-(L|R)(\d+))?$/i);if(null!=t&&6===t.length)return t;let i=e.match(/^#?(discussion-diff-[0-9]+)(L|R)(\d+)(?:-(L|R)(\d+))?$/i);return null!=i&&6===i.length?i:null}function a(e,t){return`${"left"===t?"L":"R"}${e}`}function s(e){let t=e.match(/^#?(diff-[a-f0-9]+)/);return t?.[1]}function o(e){return!!(r(e)||r(`diff-${e}`))&&(e.includes("R")||e.includes("L"))}function d(e){if(!(s(e)||s(`diff-${e}`)))return;let t=e.replace("#","").replace("diff-","");return t.includes("-")&&(t=t.split("-")[0]??""),t.includes("L")&&(t=t.split("L")[0]??""),t.includes("R")&&(t=t.split("R")[0]??""),t}function c(e){let t=e.match(/^#?(r\d+)/),i=t?.[1];return i?parseInt(i.slice(1)):void 0}function u(e){let t=e.match(/^#annotation_(\d+)/),i=t?.[1];return i?parseInt(i):void 0}function f(e){let t=r(e);if(t){let e=t[1],i=t[2]?"L"===t[2]?"left":"right":void 0,n=t[3]?parseInt(t[3]):void 0;if(!e||!i||void 0===n)return;return{diffAnchor:e,startOrientation:i,startLineNumber:n,endOrientation:(t[4]?"L"===t[4]?"left":"right":void 0)??i,endLineNumber:(t[5]?parseInt(t[5]):void 0)??n,firstSelectedLineNumber:n,firstSelectedOrientation:i}}}function h(e){!function(e){let t=`#${e}`;if(t===window.location.hash)return;let i=window.location.href;(0,n.Zu)(t),window.dispatchEvent(new HashChangeEvent("hashchange",{newURL:window.location.href,oldURL:i}))}(m(e))}function m(e){let t=a(e.startLineNumber,e.startOrientation),i=`${e.diffAnchor}${t}`;if(e.endLineNumber!==e.startLineNumber||e.endOrientation!==e.startOrientation){let t=a(e.endLineNumber,e.endOrientation);i+=`-${t}`}return i}function p(){let e=r(l.fV.hash??"")??"",t="";return(""===e?s(l.fV.hash??"")??"":e?.[0]??"").replace("#","").replace("diff-","")}},61407:(e,t,i)=>{i.d(t,{t:()=>l});var n=i(79607);let l=({items:e,filter:t,key:i,secondaryKey:l})=>{let r=e.map(e=>[(0,n.dt)(t,i(e)),e]);return l&&(r=r.map(([e,i])=>[Math.max(e,(0,n.dt)(t,l(i))),i])),r.filter(([e])=>e>n.IP).sort(([e,t],[n,l])=>n===e?i(t).localeCompare(i(l)):n-e).map(([,e])=>e)}},7531:(e,t,i)=>{i.d(t,{Y:()=>n});function n(){let e={};return e.promise=new Promise((t,i)=>{e.resolve=t,e.reject=i}),e}},23812:(e,t,i)=>{i.d(t,{D6:()=>u,Fo:()=>d,MV:()=>f,zB:()=>h});var n=i(85351),l=i(96540);function r(e,t,i){return t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}let a=(0,n.A)("sessionStorage"),s="session-storage-update",o=class UseSessionStorageUpdateEvent extends Event{constructor(e,t){super(s),r(this,"storageKey",void 0),r(this,"storageValue",void 0),this.storageKey=e,this.storageValue=t}};function d(e,t){let i=(0,l.useRef)(t);(0,l.useEffect)(()=>{i.current=t});let[n,r]=(0,l.useState)(()=>{let t=a.getItem(e);return t?JSON.parse(t):i.current}),d=(0,l.useCallback)(t=>{r(void 0!==t?t:i.current),void 0===t?a.removeItem(e):a.setItem(e,JSON.stringify(t)),document.dispatchEvent(new o(e,t))},[e]),c=(0,l.useCallback)(e=>{i.current=e},[i]);return(0,l.useEffect)(()=>{function t(t){if(t.storageKey===e){let e=t.storageValue;r(void 0!==e?e:i.current)}}document.addEventListener(s,t);let n=a.getItem(e);return n?r(JSON.parse(n)):r(i.current),()=>{document.removeEventListener(s,t)}},[e]),[n,d,c]}function c(e){let t=a.getKeys(),i=[];for(let n in t)t[n]?.startsWith(e)&&i.push(t[n]);return i}function u(e){for(let t of e)a.removeItem(t),document.dispatchEvent(new o(t,void 0))}function f(e){let t=[];for(let i of c(e)){let e=a.getItem(i);null!=e&&t.push(JSON.parse(e))}return t}function h(e){u(c(e))}},63236:(e,t,i)=>{i.d(t,{z:()=>a});var n=i(74848),l=i(96540);let r={CompactCommentInputContainer:"CompactCommentButton-module__CompactCommentInputContainer--WNtZq"},a=(0,l.forwardRef)(({onClick:e,id:t,children:i},l)=>(0,n.jsx)("button",{type:"button",id:t,ref:l,onClick:e,className:r.CompactCommentInputContainer,children:i}));a.displayName="CompactCommentButton"},17723:(e,t,i)=>{i.d(t,{Z:()=>C});var n=i(74848),l=i(21728),r=i(70179),a=i(96679),s=i(96540),o=i(38621),d=i(87330),c=i(9852),u=i(19797),f=i(73451),h=i(19647),m=i(55847),p=i(65607);let g=[{label:"Comment is harmful or unsafe",value:"OFFENSIVE_OR_DISCRIMINATORY"},{label:"Comment is poorly formatted",value:"POORLY_FORMATTED"},{label:"Comment is not true",value:"INCORRECT"},{label:"Comment is not helpful",value:"UNHELPFUL"},{label:"Comment is attached to the wrong line(s)",value:"INCORRECT_LINE"},{label:"Code suggestion is harmful or unsafe",value:"SUGGESTION_OFFENSIVE_OR_DISCRIMINATORY"},{label:"Code suggestion is poorly formatted",value:"SUGGESTION_POORLY_FORMATTED"},{label:"Code suggestion does not solve the problem in the comment",value:"SUGGESTION_UNHELPFUL"},{label:"Code suggestion is invalid",value:"SUGGESTION_INVALID"}],x=e=>{let t,i,r,a,o=(0,l.c)(16),{commentId:d,onClose:p,onSubmit:x,feedbackOptions:b,returnFocusRef:N}=e,v=void 0===b?g:b,[j,T]=(0,s.useState)(!1);o[0]===Symbol.for("react.memo_cache_sentinel")?(t=[],o[0]=t):t=o[0];let[C,k]=(0,s.useState)(t),[I,S]=(0,s.useState)("");o[1]!==d||o[2]!==C||o[3]!==x||o[4]!==I?(i=e=>{e.preventDefault(),T(!0),C.length&&x({commentId:d,type:"NEGATIVE",feedbackChoice:C,textResponse:I})},o[1]=d,o[2]=C,o[3]=x,o[4]=I,o[5]=i):i=o[5];let L=i;return o[6]!==j||o[7]!==C||o[8]!==v||o[9]!==L||o[10]!==I?(r=()=>(0,n.jsxs)("form",{onSubmit:L,children:[(0,n.jsxs)(c.l.Body,{children:[(0,n.jsx)("div",{className:"mb-3",children:(0,n.jsxs)(u.A,{onChange:k,required:!0,children:[(0,n.jsx)(u.A.Label,{children:"Category"}),v.map(y),j&&!C&&(0,n.jsx)(u.A.Validation,{variant:"error",children:"Please select a feedback category"})]})}),(0,n.jsxs)(f.A,{id:"text_response",children:[(0,n.jsx)(f.A.Label,{children:"How should we improve this response?"}),(0,n.jsx)(h.Ay,{block:!0,rows:2,wrap:"wrap",name:"text_response",value:I,resize:"vertical",onChange:e=>S(e.currentTarget.value)})]})]}),(0,n.jsx)(c.l.Footer,{children:(0,n.jsx)(m.Q,{type:"submit",disabled:j&&(!I||!C),children:"Submit"})})]}),o[6]=j,o[7]=C,o[8]=v,o[9]=L,o[10]=I,o[11]=r):r=o[11],o[12]!==p||o[13]!==N||o[14]!==r?(a=(0,n.jsx)(c.l,{onClose:p,title:"Provide additional feedback",subtitle:"Please help us improve GitHub Copilot by sharing more details about this comment.",returnFocusRef:N,renderBody:r}),o[12]=p,o[13]=N,o[14]=r,o[15]=a):a=o[15],a};try{x.displayName||(x.displayName="NegativeFeedbackForm")}catch{}function y(e){return(0,n.jsxs)(f.A,{id:`feedback_choice_${e.value}`,children:[(0,n.jsx)(p.A,{value:e.value}),(0,n.jsx)(f.A.Label,{children:e.label})]},e.value)}let b=e=>{let t,i,r=(0,l.c)(6),{onClick:a,commentId:s,disabled:c}=e;return r[0]!==s||r[1]!==a?(t=()=>a({type:"POSITIVE",commentId:s}),r[0]=s,r[1]=a,r[2]=t):t=r[2],r[3]!==c||r[4]!==t?(i=(0,n.jsx)(d.K,{size:"small",variant:"invisible",disabled:c,icon:o.ThumbsupIcon,title:"Positive Feedback","aria-label":"Positive Feedback",onClick:t}),r[3]=c,r[4]=t,r[5]=i):i=r[5],i},N=e=>{let t,i,r,a,c,u=(0,l.c)(13),{onClick:f,commentId:h,disabled:m,feedbackOptions:p}=e,[g,y]=(0,s.useState)(!1),b=(0,s.useRef)(null);u[0]!==f?(t=e=>{f(e),y(!1)},u[0]=f,u[1]=t):t=u[1];let N=t;return u[2]!==h||u[3]!==g||u[4]!==p||u[5]!==N?(i=g&&(0,n.jsx)(x,{onClose:()=>y(!1),onSubmit:N,commentId:h,feedbackOptions:p,returnFocusRef:b}),u[2]=h,u[3]=g,u[4]=p,u[5]=N,u[6]=i):i=u[6],u[7]===Symbol.for("react.memo_cache_sentinel")?(r=()=>y(!0),u[7]=r):r=u[7],u[8]!==m?(a=(0,n.jsx)(d.K,{ref:b,size:"small",variant:"invisible",disabled:m,icon:o.ThumbsdownIcon,title:"Negative Feedback","aria-label":"Negative Feedback",onClick:r}),u[8]=m,u[9]=a):a=u[9],u[10]!==i||u[11]!==a?(c=(0,n.jsxs)(n.Fragment,{children:[i,a]}),u[10]=i,u[11]=a,u[12]=c):c=u[12],c};try{b.displayName||(b.displayName="PositiveFeedbackButton")}catch{}try{N.displayName||(N.displayName="NegativeFeedbackButton")}catch{}var v=i(60039);let j=({path:e,additionalParameters:t})=>(0,s.useCallback)(({type:i,commentId:n,feedbackChoice:l,textResponse:r})=>{try{let a=new FormData;if(a.set("comment_id",n),a.set("feedback",i),t)for(let[e,i]of Object.entries(t))a.set(e,i);for(let e of l??[])a.append("feedback_choice[]",e);r&&a.set("text_response",r),(0,v.DI)(e,{method:"POST",body:a})}catch{}},[e,t]),T=e=>{let t,i,r,o,d,c,u=(0,l.c)(18),{commentId:f,commentUrl:h,feedbackPath:m,feedbackOptions:p,additionalParameters:g}=e,[x,y]=(0,s.useState)();e:{if(m){t=m;break e}if(h){let e=new URL(h,a.fV.origin);e.hash="",t=`${e}/code_review_feedback`;break e}throw Error("missing feedbackPath and commentUrl")}let v=t;u[0]!==g||u[1]!==v?(i={path:v,additionalParameters:g},u[0]=g,u[1]=v,u[2]=i):i=u[2];let T=j(i);u[3]!==T?(r=e=>{y(e.type),T(e)},u[3]=T,u[4]=r):r=u[4];let C=r,k=`copilot-code-review-feedback-${f}`;return u[5]!==f||u[6]!==C||u[7]!==x?(o="NEGATIVE"!==x&&(0,n.jsx)(b,{disabled:!!x,commentId:f,onClick:C}),u[5]=f,u[6]=C,u[7]=x,u[8]=o):o=u[8],u[9]!==f||u[10]!==p||u[11]!==C||u[12]!==x?(d="POSITIVE"!==x&&(0,n.jsx)(N,{disabled:!!x,onClick:C,commentId:f,feedbackOptions:p}),u[9]=f,u[10]=p,u[11]=C,u[12]=x,u[13]=d):d=u[13],u[14]!==k||u[15]!==o||u[16]!==d?(c=(0,n.jsxs)("div",{"data-testid":k,className:"d-flex gap-1",children:[o,d]}),u[14]=k,u[15]=o,u[16]=d,u[17]=c):c=u[17],c},C=e=>{let t,i=(0,l.c)(2);return i[0]!==e?(t=(0,n.jsx)(r.t,{fallback:null,children:(0,n.jsx)(T,{...e})}),i[0]=e,i[1]=t):t=i[1],t};try{T.displayName||(T.displayName="Feedback")}catch{}try{C.displayName||(C.displayName="CopilotCodeReviewFeedback")}catch{}},42597:(e,t,i)=>{i.d(t,{u:()=>s});var n=i(74848),l=i(21728),r=i(34164);let a={diffSquare:"DiffSquares-module__diffSquare--h5kjy",addition:"DiffSquares-module__addition--jeNtt",deletion:"DiffSquares-module__deletion--hKV3q",neutral:"DiffSquares-module__neutral--VlyoP"};function s(e){let t,i,r=(0,l.c)(4),{squares:a}=e;return r[0]!==a?(t=a.map(o),r[0]=a,r[1]=t):t=r[1],r[2]!==t?(i=(0,n.jsx)("div",{className:"d-flex",children:t}),r[2]=t,r[3]=i):i=r[3],i}function o(e,t){return(0,n.jsx)("div",{"data-testid":`${e} diffstat`,className:(0,r.$)(a.diffSquare,a[e])},t)}try{s.displayName||(s.displayName="DiffSquares")}catch{}},24965:(e,t,i)=>{i.d(t,{z:()=>s});var n=i(74848),l=i(21728),r=i(42597);let a={addition:"addition",deletion:"deletion",neutral:"neutral"};function s(e){let t,i,s,o,d,c,u,f=(0,l.c)(20),{linesAdded:h,linesDeleted:m,linesChanged:p}=e,g=void 0===h?0:h,x=void 0===m?0:m,y=void 0===p?0:p;if(!g&&!x&&!y||0===y)return null;if(f[0]!==g||f[1]!==y||f[2]!==x){let{greenSquares:e,redSquares:i,graySquares:n}=function(e,t,i){let n=i>5?5/i:1,l=Math.floor(e*n),r=Math.floor(t*n);return{greenSquares:l,redSquares:r,graySquares:5-l-r}}(g,x,y);t=[...Array(e).fill(a.addition),...Array(i).fill(a.deletion),...Array(n).fill(a.neutral)],f[0]=g,f[1]=y,f[2]=x,f[3]=t}else t=f[3];let b=t;return f[4]!==g?(i=g>0&&(0,n.jsxs)("span",{"aria-hidden":"true",className:"f6 text-bold fgColor-success",children:["+",g.toLocaleString()]}),f[4]=g,f[5]=i):i=f[5],f[6]!==x?(s=x>0&&(0,n.jsxs)("span",{"aria-hidden":"true",className:"f6 text-bold fgColor-danger",children:["-",x.toLocaleString()]}),f[6]=x,f[7]=s):s=f[7],f[8]!==g||f[9]!==x?(o=function({linesAdded:e,linesDeleted:t}){let i="Lines changed: ";return i+`${e} ${1===e?"addition":"additions"} & ${t} ${1===t?"deletion":"deletions"}`}({linesAdded:g,linesDeleted:x}),f[8]=g,f[9]=x,f[10]=o):o=f[10],f[11]!==o?(d=(0,n.jsx)("span",{className:"sr-only",children:o}),f[11]=o,f[12]=d):d=f[12],f[13]!==b?(c=(0,n.jsx)(r.u,{squares:b}),f[13]=b,f[14]=c):c=f[14],f[15]!==i||f[16]!==s||f[17]!==d||f[18]!==c?(u=(0,n.jsxs)("div",{className:"d-flex flex-items-center gap-1 pl-1",children:[i,s,d,c]}),f[15]=i,f[16]=s,f[17]=d,f[18]=c,f[19]=u):u=f[19],u}try{s.displayName||(s.displayName="DiffStats")}catch{}},75062:(e,t,i)=>{i.d(t,{e:()=>r});var n=i(74848),l=i(94232);function r(){return(0,n.jsx)("div",{className:"d-flex flex-wrap gap-1",children:(0,n.jsx)(l.O,{variant:"elliptical",height:"28px",width:"28px"})})}try{r.displayName||(r.displayName="ReactionViewerLoading")}catch{}},42218:(e,t,i)=>{i.d(t,{V:()=>f});var n=i(74848),l=i(96540),r=i(99543),a=i(38621),s=i(65556),o=i(16255);let d={info:"",success:"Toast--success",error:"Toast--error"},c={info:(0,n.jsx)(a.InfoIcon,{}),success:(0,n.jsx)(a.CheckIcon,{}),error:(0,n.jsx)(a.StopIcon,{})},u=({message:e,timeToLive:t,icon:i,type:r="info",role:a="log"})=>{let[u,f]=l.useState(!0),{safeSetTimeout:h}=(0,s.A)();return(0,l.useEffect)(()=>{t&&h(()=>f(!1),t-300)},[h,t]),(0,n.jsx)(o.Z,{children:(0,n.jsx)("div",{className:"p-1 position-fixed bottom-0 left-0 mb-3 ml-3",children:(0,n.jsxs)("div",{className:`Toast ${d[r]} ${u?"Toast--animateIn":"Toast--animateOut"}`,id:"ui-app-toast","data-testid":`ui-app-toast-${r}`,role:a,children:[(0,n.jsx)("span",{className:"Toast-icon",children:i||c[r]}),(0,n.jsx)("span",{className:"Toast-content",children:e})]})})})};try{u.displayName||(u.displayName="Toast")}catch{}function f(){let{toasts:e,persistedToast:t}=(0,l.useContext)(r.T8);return(0,n.jsxs)(n.Fragment,{children:[e.map((e,t)=>(0,n.jsx)(u,{message:e.message,icon:e.icon,timeToLive:r.Qn,type:e.type,role:e.role},t)),t&&(0,n.jsx)(u,{message:t.message,icon:t.icon,type:t.type,role:t.role})]})}try{f.displayName||(f.displayName="Toasts")}catch{}}}]);
//# sourceMappingURL=ui_packages_copilot-auth-token_copilot-auth-token_ts-ui_packages_diffs_diff-parts_ts-ui_packa-3ba26f-487bded6ef85.js.map
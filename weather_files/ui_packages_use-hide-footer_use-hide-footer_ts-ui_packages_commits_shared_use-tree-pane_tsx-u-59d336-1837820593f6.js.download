"use strict";(globalThis.webpackChunk=globalThis.webpackChunk||[]).push([["ui_packages_use-hide-footer_use-hide-footer_ts-ui_packages_commits_shared_use-tree-pane_tsx-u-59d336"],{73435:(e,t,i)=>{i.d(t,{QC:()=>f,s2:()=>m,wH:()=>a,xY:()=>d});var r=i(26940);function n(e,t){var i=function(e,t,i){if(!t.has(e))throw TypeError("attempted to get private field on non-instance");return t.get(e)}(e,t,0);return i.get?i.get.call(e):i.value}function l(e,t,i){return t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}function a(e,t){return e.startsWith(t)&&e!==t?-1:t.startsWith(e)&&e!==t?1:e<t?-1:+(e>t)}function o(e,t){return a(e.name,t.name)}function s(e,t){return a(e.fileName,t.fileName)}let FileNode=class FileNode{constructor(e,t){l(this,"diff",void 0),l(this,"filePath",void 0),l(this,"fileName",void 0),l(this,"directoryParts",void 0),l(this,"sortOrder",void 0),this.diff=e,this.filePath=e.path;let i=this.filePath.split("/");this.fileName=i[i.length-1],this.directoryParts=i.slice(0,i.length-1),this.sortOrder=t}};var c=new WeakMap;let DirectoryNode=class DirectoryNode{getOrCreateDirectory(e,t){let i=n(this,c).get(e);if(!i){let r=this.path?`${this.path}/`:"";i=new DirectoryNode(e,`${r}${e}`,t),this.directories.push(i),n(this,c).set(e,i)}return i}sort(){for(let e of(this.directories.sort(o),this.files.sort(s),this.directories))e.sort()}constructor(e,t,i){l(this,"directories",[]),l(this,"files",[]),function(e,t,i){if(t.has(e))throw TypeError("Cannot initialize the same private elements twice on an object");t.set(e,i)}(this,c,{writable:!0,value:new Map}),l(this,"name",void 0),l(this,"path",void 0),l(this,"sortOrder",void 0),this.name=e,this.path=t,this.sortOrder=i}};function d(e){let t=new DirectoryNode("","",Number.MAX_SAFE_INTEGER);for(let i of e.map((e,t)=>new FileNode(e,t))){let e=t;for(let t of i.directoryParts)(e=e.getOrCreateDirectory(t,i.sortOrder)).sortOrder=Math.min(e.sortOrder,i.sortOrder);e.files.push(i)}return function e(t){for(let i of t.directories)e(i);let i=t.directories.map(e=>e.sortOrder),r=t.files.map(e=>e.sortOrder);t.sortOrder=Math.min(t.sortOrder,...i,...r)}(t),t.sort(),t}function f(e){let t;t="string"==typeof e?e:e?.newPath||e?.oldPath;let i=t?.lastIndexOf(".");return t?!i||i<0?r.F7:`.${t.substring(i+1)}`:""}function m(e){let t={};return e.map(e=>{let i=f(e.path);void 0!==t[i]?t[i]+=1:t[i]=1}),t}},4203:(e,t,i)=>{i.d(t,{U:()=>c});var r=i(21728),n=i(60039),l=i(97665),a=i(94747),o=i(80804),s=i(7799);function c(e){let t,i,n,s,c=(0,r.c)(10),{onSuccess:f,onError:m}=e,h=(0,l.jE)();return c[0]!==h?(t=async e=>{h.setQueryData((0,o.nZ)(),t=>({...t,...e}))},c[0]=h,c[1]=t):t=c[1],c[2]!==f?(i=()=>{f()},c[2]=f,c[3]=i):i=c[3],c[4]!==m?(n=e=>{m(e)},c[4]=m,c[5]=n):n=c[5],c[6]!==t||c[7]!==i||c[8]!==n?(s={mutationFn:d,onMutate:t,onSuccess:i,onError:n},c[6]=t,c[7]=i,c[8]=n,c[9]=s):s=c[9],(0,a.n)(s)}async function d(e){let{commentsPreference:t,lineSpacing:i,splitPreference:r}=e;if(!(0,s.M3)())return;let l={};t&&(l={...l,commentsPreference:t}),i&&(l={...l,lineSpacing:i}),r&&(l={...l,diff:r});let a=await (0,n.Sr)("/users/diffview",{method:"POST",headers:{Accept:"application/json"},body:l}),o=await a.json();if(a.ok)return o;throw Error(o.error||"Unknown error occurred",{cause:a.status})}},39419:(e,t,i)=>{i.d(t,{sI:()=>r});let r={Visible:"visible",Collapsed:"collapsed"}},11251:(e,t,i)=>{i.d(t,{Z:()=>n});var r=i(96540);function n({focusRowRef:e,mouseRowRef:t}){let[i,n]=r.useState(!1);return r.useEffect(()=>{if(e.current&&t.current){let i=()=>{let t=e.current?.querySelector(".PRIVATE_TreeView-item-content-text");t?.scrollWidth!==t?.offsetWidth&&n(!0)};e.current.onfocus=()=>{i()},e.current.onblur=()=>{n(!1)},t.current.onmouseenter=()=>{i()},t.current.onmouseleave=()=>{n(!1)}}},[e,t]),i}},14103:(e,t,i)=>{i.d(t,{L:()=>n});var r=i(96540);function n(e){(0,r.useEffect)(()=>{if(!e)return;let t=document.querySelector(".footer");if(t)return t.hidden=!0,()=>{t.hidden=!1}},[e])}},321:(e,t,i)=>{i.d(t,{q:()=>h});var r=i(74848),n=i(63869),l=i(68415),a=i(80663),o=i(96540),s=i(96235),c=i(60039);async function d(e,t){if(!t)return;let i=new FormData;i.set("file_tree_visible",e?"true":"false"),(0,c.DI)((0,s.h6D)(t),{method:"PUT",body:i,headers:{Accept:"application/json"}})}let f={sm:l.Gy.small,md:l.Gy.medium,lg:l.Gy.large},m={size:"medium",mobileBreakpoint:"md"};function h(e,t,i,s){let c={...m,...s},[h]=(0,a.I)(()=>!1,!0,[]),u=(0,o.useRef)(null),p=(0,o.useRef)(null),x=f[c.mobileBreakpoint??"md"],[g,y]=(0,o.useState)(t),[v,j]=(0,o.useState)(!1),b=(0,o.useCallback)(()=>{(0,l.nn)(window.innerWidth)<=x?(j(!0),requestAnimationFrame(()=>p.current?.focus())):(y(!0),d(!0,i),requestAnimationFrame(()=>u.current?.focus()))},[x,i]),_=(0,o.useCallback)(()=>{(0,l.nn)(window.innerWidth)<=x?(j(!1),requestAnimationFrame(()=>p.current?.focus())):(y(!1),d(!1,i),requestAnimationFrame(()=>u.current?.focus()))},[x,i]),N=(0,o.useMemo)(()=>(0,r.jsx)(n.L,{expanded:g,alignment:"left",ariaLabel:g?"Collapse file tree":"Expand file tree",tooltipDirection:"se",testid:"file-tree-button",ariaControls:e,ref:u,onToggleExpanded:()=>{g?_():b()},className:`d-none d-${c.mobileBreakpoint}-flex position-relative`,size:c.size}),[g,e,c.mobileBreakpoint,c.size,_,b]),S=(0,o.useMemo)(()=>(0,r.jsx)(n.L,{expanded:v,alignment:"left",ariaLabel:v?"Collapse file tree":"Expand file tree",tooltipDirection:"se",testid:"file-tree-button",ariaControls:e,ref:p,onToggleExpanded:()=>{v?_():b()},className:`d-${c.mobileBreakpoint}-none position-relative`,size:c.size}),[v,e,c.mobileBreakpoint,c.size,_,b]);return{splitPagePaneHidden:h&&!t,splitPageContentHidden:{narrow:v,regular:!1},isTreeExpanded:g,isMobileTreeExpanded:v,expandTree:b,collapseTree:_,treeToggleElement:(0,o.useMemo)(()=>(0,r.jsxs)(r.Fragment,{children:[S,N]}),[S,N]),treeToggleRef:u}}},54779:(e,t,i)=>{i.d(t,{$:()=>o});var r=i(74848),n=i(38621),l=i(15385),a=i(64979);let o=e=>(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(l.l.Divider,{}),(0,r.jsx)(a.t,{eventContext:{prx:!0},leadingVisual:(0,r.jsx)(n.CopilotIcon,{}),fileDiffReference:e.copilotChatReference})]});try{o.displayName||(o.displayName="CopilotDiffChatBlobActionsMenuItems")}catch{}},92032:(e,t,i)=>{i.d(t,{oj:()=>b,ZH:()=>y});var r=i(74848),n=i(21728),l=i(38621),a=i(96540),o=i(18828),s=i(34614),c=i(55864),d=i(4619),f=i(73435),m=i(58990),h=i(11251),u=i(84483),p=i(96679);let x={"file-tree-row":"DiffFileTree-module__file-tree-row--yr73E"},g=(0,a.memo)(function(e){let t,i=(0,n.c)(2),{changeType:l}=e;return i[0]!==l?(t=(0,r.jsx)(m.E,{status:l}),i[0]=l,i[1]=t):t=i[1],t});g.displayName="FileStatusIconItem";let y=(0,a.memo)(function(e){let t,i,d,f,m,u,y,v,j,b=(0,n.c)(35),{file:_,depth:N,hash:S,onSelect:w}=e,C=(0,a.useRef)(null),D=(0,a.useRef)(null),F=`#diff-${_.diff.pathDigest}`;b[0]===Symbol.for("react.memo_cache_sentinel")?(t={focusRowRef:C,mouseRowRef:C},b[0]=t):t=b[0];let I=(0,h.Z)(t),E=_.diff.totalCommentsCount??0,P=_.diff.highestAnnotationLevel,O=null,T=_.fileName??"This file";switch(E>0&&(T+=` has ${E<10?E:"9+"} ${E>1?"comments":"comment"}`),P){case"WARNING":{let e;T+=`${E>0?" and":""} has warning annotations`,b[1]===Symbol.for("react.memo_cache_sentinel")?(e=(0,r.jsx)("div",{className:"pl-1 fgColor-attention",children:(0,r.jsx)(l.AlertIcon,{})}),b[1]=e):e=b[1],O=e;break}case"NOTICE":{let e;T+=`${E>0?" and":""} has notice annotations`,b[2]===Symbol.for("react.memo_cache_sentinel")?(e=(0,r.jsx)("div",{className:"pl-1 fgColor-default",children:(0,r.jsx)(l.InfoIcon,{})}),b[2]=e):e=b[2],O=e;break}case"FAILURE":{let e;T+=`${E>0?" and":""} has failure annotations`,b[3]===Symbol.for("react.memo_cache_sentinel")?(e=(0,r.jsx)("div",{className:"pl-1 fgColor-danger",children:(0,r.jsx)(l.XCircleFillIcon,{})}),b[3]=e):e=b[3],O=e}}b[4]!==_.diff.pathDigest||b[5]!==S?(i=()=>{if(C.current&&_.diff.pathDigest===S){let e=window.setTimeout(()=>{let e=p.XC?.getElementById("diff_file_tree")?.parentElement,t=C.current.offsetTop,i=p.cg?.innerHeight??0;e&&(e.scrollTop=t-i/2)},0);return()=>{window.clearTimeout(e)}}},d=[_.diff.pathDigest,S],b[4]=_.diff.pathDigest,b[5]=S,b[6]=i,b[7]=d):(i=b[6],d=b[7]),(0,a.useEffect)(i,d),b[8]!==F||b[9]!==_.diff||b[10]!==w?(f=e=>{if(e.nativeEvent instanceof KeyboardEvent){if(C?.current!==document.activeElement)return void e.preventDefault();if("Enter"===e.key||" "===e.key){e.preventDefault(),w?.(_.diff),D?.current?.click();return}}if(e.nativeEvent instanceof MouseEvent){if(e.metaKey||e.ctrlKey||1===e.button){e.preventDefault(),window.open(F,"_blank");return}w?.(_.diff),D?.current?.click()}},b[8]=F,b[9]=_.diff,b[10]=w,b[11]=f):f=b[11];let k=f,$=_.fileName??"";b[12]!==F||b[13]!==$?(m=(0,r.jsx)(s.A,{href:F,muted:!0,ref:D,role:"presentation",className:"fgColor-default",tabIndex:-1,children:$}),b[12]=F,b[13]=$,b[14]=m):m=b[14];let W=m,A=_.diff.pathDigest===S;return b[15]!==_.diff.changeType?(u=(0,r.jsx)(c.G.LeadingVisual,{children:(0,r.jsx)(g,{changeType:_.diff.changeType})}),b[15]=_.diff.changeType,b[16]=u):u=b[16],b[17]!==W||b[18]!==$||b[19]!==I?(y=I?(0,r.jsx)(o.m,{text:$,direction:"ne",children:W}):W,b[17]=W,b[18]=$,b[19]=I,b[20]=y):y=b[20],b[21]!==O||b[22]!==P||b[23]!==E?(v=(!!E||P)&&(0,r.jsx)(c.G.TrailingVisual,{children:(0,r.jsxs)("div",{className:"d-flex flex-items-center flex-row",children:[!!E&&(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(l.CommentIcon,{}),(0,r.jsx)("div",{className:"ml-1 text-bold fgColor-default f6",children:E<10?E:"9+"})]}),O]})}),b[21]=O,b[22]=P,b[23]=E,b[24]=v):v=b[24],b[25]!==N||b[26]!==_.diff.path||b[27]!==_.diff.pathDigest||b[28]!==k||b[29]!==T||b[30]!==A||b[31]!==u||b[32]!==y||b[33]!==v?(j=(0,r.jsx)(r.Fragment,{children:(0,r.jsxs)(c.G.Item,{defaultExpanded:!0,"aria-label":T,"aria-level":N,current:A,id:_.diff.path,onSelect:k,ref:C,className:x["file-tree-row"],children:[u,y,v]},_.diff.pathDigest)}),b[25]=N,b[26]=_.diff.path,b[27]=_.diff.pathDigest,b[28]=k,b[29]=T,b[30]=A,b[31]=u,b[32]=y,b[33]=v,b[34]=j):j=b[34],j});function v(e){let t,i,l,o,s,f,m,u,p,x,g,y,b=(0,n.c)(43);b[0]!==e?({directory:t,depth:o,leadingPath:s,sortByDiffOrder:l,...i}=e,b[0]=e,b[1]=t,b[2]=i,b[3]=l,b[4]=o,b[5]=s):(t=b[1],i=b[2],l=b[3],o=b[4],s=b[5]);let _=void 0===o?0:o,N=void 0===s?"":s,S=N?`${N}/`:"",w=a.useRef(null),C=a.useRef(null);b[6]===Symbol.for("react.memo_cache_sentinel")?(f={focusRowRef:C,mouseRowRef:w},b[6]=f):f=b[6];let D=(0,h.Z)(f);if(!t.files.length&&1===t.directories.length){let e,n;if(b[7]!==_||b[8]!==t.directories||b[9]!==t.name||b[10]!==i||b[11]!==S||b[12]!==l){let n;b[14]!==_||b[15]!==t.name||b[16]!==i||b[17]!==S||b[18]!==l?(n=e=>(0,r.jsx)(v,{depth:0===_?1:_,directory:e,leadingPath:`${S}${t.name}`,sortByDiffOrder:l,...i},e.path),b[14]=_,b[15]=t.name,b[16]=i,b[17]=S,b[18]=l,b[19]=n):n=b[19],e=t.directories.map(n),b[7]=_,b[8]=t.directories,b[9]=t.name,b[10]=i,b[11]=S,b[12]=l,b[13]=e}else e=b[13];return b[20]!==e?(n=(0,r.jsx)(r.Fragment,{children:e}),b[20]=e,b[21]=n):n=b[21],n}b[22]!==_||b[23]!==t||b[24]!==i||b[25]!==l?(m=function(){return(0,r.jsx)(j,{directory:t,depth:_,sortByDiffOrder:l,...i})},b[22]=_,b[23]=t,b[24]=i,b[25]=l,b[26]=m):m=b[26];let F=m;if(0===_){let e;return b[27]!==F?(e=F(),b[27]=F,b[28]=e):e=b[28],e}b[29]===Symbol.for("react.memo_cache_sentinel")?(u=(0,r.jsx)(c.G.LeadingVisual,{children:(0,r.jsx)(c.G.DirectoryIcon,{})}),b[29]=u):u=b[29];let I=`${S}${t.name}`;return b[30]!==I?(p=(0,r.jsx)("span",{ref:w,children:I}),b[30]=I,b[31]=p):p=b[31],b[32]!==t.name||b[33]!==S||b[34]!==D?(x=D&&(0,r.jsx)(d.m,{"data-testid":`${t.name}-directory-item-tooltip`,id:`${t.name}-directory-item-tooltip`,contentRef:C,"aria-label":`${S}${t.name}`,open:!0,direction:"ne"}),b[32]=t.name,b[33]=S,b[34]=D,b[35]=x):x=b[35],b[36]!==F?(g=(0,r.jsx)(c.G.SubTree,{children:F()}),b[36]=F,b[37]=g):g=b[37],b[38]!==t.path||b[39]!==p||b[40]!==x||b[41]!==g?(y=(0,r.jsxs)(c.G.Item,{ref:C,defaultExpanded:!0,id:t.path,children:[u,p,x,g]},t.path),b[38]=t.path,b[39]=p,b[40]=x,b[41]=g,b[42]=y):y=b[42],y}let j=(0,a.memo)(function(e){let t,i,l,a,o,s,c,d=(0,n.c)(20);d[0]!==e?({directory:t,fileNodeRenderer:i,sortByDiffOrder:a,depth:o,...l}=e,d[0]=e,d[1]=t,d[2]=i,d[3]=l,d[4]=a,d[5]=o):(t=d[1],i=d[2],l=d[3],a=d[4],o=d[5]);let f=void 0===o?0:o;if(d[6]!==f||d[7]!==t.directories||d[8]!==t.files||d[9]!==i||d[10]!==l||d[11]!==a){let e,n=t.files.map(_).concat(t.directories.map(N));a?n.sort(S):n.sort(w),d[13]!==f||d[14]!==i||d[15]!==l||d[16]!==a?(e=e=>"file"!==e.pathType?(0,r.jsx)(v,{depth:f+1,directory:e.node,fileNodeRenderer:i,sortByDiffOrder:a,...l},e.path):i?i({...l,file:e.node,depth:f+1}):(0,r.jsx)(y,{depth:f+1,file:e.node,...l},e.path),d[13]=f,d[14]=i,d[15]=l,d[16]=a,d[17]=e):e=d[17],s=n.map(e),d[6]=f,d[7]=t.directories,d[8]=t.files,d[9]=i,d[10]=l,d[11]=a,d[12]=s}else s=d[12];return d[18]!==s?(c=(0,r.jsx)(r.Fragment,{children:s}),d[18]=s,d[19]=c):c=d[19],c}),b=(0,a.memo)(function(e){let t,i,l,o,s,d,m,h,x,g,y,j=(0,n.c)(20);j[0]!==e?({diffs:i,fileNodeRenderer:l,sortByDiffOrder:s,className:t,...o}=e,j[0]=e,j[1]=t,j[2]=i,j[3]=l,j[4]=o,j[5]=s):(t=j[1],i=j[2],l=j[3],o=j[4],s=j[5]),j[6]!==i?(d=(0,f.xY)(i),j[6]=i,j[7]=d):d=j[7];let b=d,[_,N]=a.useState("");j[8]===Symbol.for("react.memo_cache_sentinel")?(m=()=>{N(((0,u.pd)(p.fV.hash??"")??"").replace("diff-",""))},j[8]=m):m=j[8];let S=m;return j[9]===Symbol.for("react.memo_cache_sentinel")?(h=()=>(window.addEventListener("hashchange",S),S(),()=>{window.removeEventListener("hashchange",S)}),x=[S],j[9]=h,j[10]=x):(h=j[9],x=j[10]),(0,a.useEffect)(h,x),j[11]!==l||j[12]!==o||j[13]!==b||j[14]!==_||j[15]!==s?(g=(0,r.jsx)(v,{directory:b,fileNodeRenderer:l,sortByDiffOrder:s,...o,hash:_}),j[11]=l,j[12]=o,j[13]=b,j[14]=_,j[15]=s,j[16]=g):g=j[16],j[17]!==t||j[18]!==g?(y=(0,r.jsx)(c.G,{"aria-label":"File Tree",className:t,children:g}),j[17]=t,j[18]=g,j[19]=y):y=j[19],y});try{y.displayName||(y.displayName="File")}catch{}try{v.displayName||(v.displayName="Directory")}catch{}try{j.displayName||(j.displayName="DirectoryRendering")}catch{}try{b.displayName||(b.displayName="DiffFileTree")}catch{}function _(e){return{path:e.filePath,pathType:"file",node:e,sortOrder:e.sortOrder}}function N(e){return{path:e.path,pathType:"directory",node:e,sortOrder:e.sortOrder}}function S(e,t){return e.sortOrder-t.sortOrder}function w(e,t){return(0,f.wH)(e.path,t.path)}},26940:(e,t,i)=>{i.d(t,{kF:()=>x,F7:()=>p});var r,n=i(74848),l=i(21728),a=i(38621),o=i(9591),s=i(10569),c=i(87330),d=i(63867),f=i(15385),m=i(96540),h=i(34164);let u={filterLoadingHeight:"FileFilter-module__filterLoadingHeight--cW8BP",filterMaxHeight:"FileFilter-module__filterMaxHeight--TgM5t"},p="No extension";function x({filterSize:e="medium",filterText:t,onFilterTextChange:i,fileExtensions:r,unselectedFileExtensions:l,onFilterChange:d,additionalFilterGroups:x}){r=r??{},l=l??new Set;let[g,y]=(0,m.useState)(t),v=(e,t)=>{d?.(e?"selectFileExtension":"unselectFileExtension",{extension:t})},j=Object.keys(r).filter(e=>e!==p).sort(),b=e=>!l.has(e),_=!!r[p];return(0,n.jsxs)("div",{className:"d-flex flex-nowrap gap-2",children:[(0,n.jsx)(o.A,{block:!0,"aria-label":"Filter files\u2026",leadingVisual:a.SearchIcon,placeholder:"Filter files\u2026",size:e,className:(0,h.$)("small"===e&&u.filterMaxHeight),value:g,onChange:e=>{y(e.target.value),i?.(e.target.value)}}),(0,n.jsxs)(s.W,{children:[(0,n.jsx)(s.W.Anchor,{children:(0,n.jsx)(c.K,{"aria-label":"Filter options",icon:a.SlidersIcon,className:"flex-shrink-0",size:e})}),(0,n.jsx)(s.W.Overlay,{children:(0,n.jsxs)(f.l,{children:[(0,n.jsxs)(f.l.Group,{selectionVariant:"multiple",children:[(0,n.jsx)(f.l.GroupHeading,{children:"File extensions"}),j.map(e=>{let t=b(e);return(0,n.jsx)(f.l.Item,{selected:t,onSelect:()=>v(!t,e),children:`${e} (${r[e]})`},e)}),_&&(0,n.jsx)(f.l.Item,{selected:b(p),onSelect:()=>v(!b(p),p),children:`${p} (${r[p]})`},p)]}),x]})})]})]})}try{(r=function(e){let t,i,r,f,m,p=(0,l.c)(9),{filterText:x,onFilterTextChange:g}=e;return p[0]!==g?(t=e=>g?.(e.target.value),p[0]=g,p[1]=t):t=p[1],p[2]!==x||p[3]!==t?(i=(0,n.jsx)(o.A,{block:!0,"aria-label":"Filter files\u2026",leadingVisual:a.SearchIcon,placeholder:"Filter files\u2026",value:x,onChange:t}),p[2]=x,p[3]=t,p[4]=i):i=p[4],p[5]===Symbol.for("react.memo_cache_sentinel")?(r=(0,n.jsx)(s.W.Anchor,{children:(0,n.jsx)(c.K,{"aria-label":"Filter options",icon:a.SlidersIcon,className:"flex-shrink-0"})}),p[5]=r):r=p[5],p[6]===Symbol.for("react.memo_cache_sentinel")?(f=(0,n.jsxs)(s.W,{children:[r,(0,n.jsx)(s.W.Overlay,{className:(0,h.$)(u.filterLoadingHeight),children:(0,n.jsx)("div",{className:(0,h.$)("d-flex","flex-column","flex-justify-center","flex-items-center",u.filterLoadingHeight),children:(0,n.jsx)(d.A,{size:"medium"})})})]}),p[6]=f):f=p[6],p[7]!==i?(m=(0,n.jsxs)("div",{className:"d-flex flex-nowrap gap-2",children:[i,f]}),p[7]=i,p[8]=m):m=p[8],m}).displayName||(r.displayName="FileFilterLoading")}catch{}try{x.displayName||(x.displayName="FileFilterShared")}catch{}},14634:(e,t,i)=>{i.d(t,{G:()=>A});var r=i(74848),n=i(21728),l=i(38621),a=i(10569),o=i(15385),s=i(34164),c=i(55847),d=i(6442),f=i(96540),m=i(7799),h=i(96235),u=i(25772),p=i(60039);function x(e){return!e.dismissed}function g(e){return 0===(function(){let e,t,i=(0,n.c)(5),r=(0,u.B)();if(!r){let e;return i[0]===Symbol.for("react.memo_cache_sentinel")?(e=[],i[0]=e):e=i[0],e}i[1]!==r.userNotices?(e=r.userNotices??[],i[1]=r.userNotices,i[2]=e):e=i[2];let l=e;return i[3]!==l?(t=l.filter(x),i[3]=l,i[4]=t):t=i[4],t})().filter(t=>t.name===e).length}var y=i(4203);let v={PopoverContainer:"DiffCompactLinesPopover-module__PopoverContainer--IzmFI",PopoverContent:"DiffCompactLinesPopover-module__PopoverContent--VFSml",Heading:"DiffCompactLinesPopover-module__Heading--vqonL"},j="compact_diff_lines";function b(){let e,t,i,l,a,o,u,x,b,S,w=(0,n.c)(19),C=g(j),{dismissNotice:D}=function(e){let t,i,r=(0,n.c)(5),l=g(e);r[0]!==l||r[1]!==e?(t=()=>{(0,m.M3)()&&!l&&(0,p.DI)((0,h.VB1)({noticeName:e}),{method:"POST"})},r[0]=l,r[1]=e,r[2]=t):t=r[2];let a=t;return r[3]!==a?(i={dismissNotice:a},r[3]=a,r[4]=i):i=r[4],i}(j);w[0]===Symbol.for("react.memo_cache_sentinel")?(e={onSuccess:N,onError:_},w[0]=e):e=w[0];let{mutate:F}=(0,y.U)(e),[I,E]=(0,f.useState)(!0);w[1]!==D||w[2]!==F?(t=()=>{F({lineSpacing:"compact"}),E(!1),D()},w[1]=D,w[2]=F,w[3]=t):t=w[3];let P=t;w[4]!==D?(i=()=>{E(!1),D()},w[4]=D,w[5]=i):i=w[5];let O=i;return C?null:(w[6]===Symbol.for("react.memo_cache_sentinel")?(l=(0,s.$)("d-flex flex-column gap-2",v.PopoverContent),a=(0,r.jsx)("h2",{className:v.Heading,children:"Customizable line height"}),o=(0,r.jsx)("p",{children:"The default line height has been increased for improved accessibility. You can choose to enable a more compact line height from the view settings menu."}),w[6]=l,w[7]=a,w[8]=o):(l=w[6],a=w[7],o=w[8]),w[9]!==P?(u=(0,r.jsx)(c.Q,{onClick:P,children:"Enable compact line height"}),w[9]=P,w[10]=u):u=w[10],w[11]!==O?(x=(0,r.jsx)(c.Q,{onClick:O,variant:"invisible",children:"Dismiss"}),w[11]=O,w[12]=x):x=w[12],w[13]!==u||w[14]!==x?(b=(0,r.jsxs)(d.A.Content,{className:l,children:[a,o,(0,r.jsxs)("div",{className:"d-flex gap-2 flex-row w-full flex-wrap",children:[u,x]})]}),w[13]=u,w[14]=x,w[15]=b):b=w[15],w[16]!==I||w[17]!==b?(S=(0,r.jsx)(d.A,{open:I,caret:"top-right",className:v.PopoverContainer,children:b}),w[16]=I,w[17]=b,w[18]=S):S=w[18],S)}function _(){}function N(){}try{b.displayName||(b.displayName="DiffCompactLinesPopover")}catch{}var S=i(80804),w=i(97665);function C(e){let t,i,l,a,s,c=(0,n.c)(16),{lineSpacingPreferenceAvailable:d,onUpdateWhitespace:f,reloadOnChange:m}=e,h=void 0===d||d,{data:u}=(0,S.Pe)();c[0]===Symbol.for("react.memo_cache_sentinel")?(t={onSuccess:F,onError:D},c[0]=t):t=c[0];let{mutate:p}=(0,y.U)(t),x=(0,w.jE)();c[1]!==u||c[2]!==f||c[3]!==x||c[4]!==m?(i=()=>{u&&(x.setQueryData((0,S.nZ)(),e=>({...e,hideWhitespace:!u.hideWhitespace})),(0,S.bJ)("w",u.hideWhitespace?"0":"1"),void 0!==m?m():f?.(!u.hideWhitespace))},c[1]=u,c[2]=f,c[3]=x,c[4]=m,c[5]=i):i=c[5];let g=i;return u?(c[6]!==u.hideWhitespace||c[7]!==g?(l=(0,r.jsx)(o.l.Item,{selected:u.hideWhitespace,onSelect:g,children:"Hide whitespace"}),c[6]=u.hideWhitespace,c[7]=g,c[8]=l):l=c[8],c[9]!==u.lineSpacing||c[10]!==h||c[11]!==p?(a=h&&(0,r.jsx)(o.l.Item,{selected:"compact"===u.lineSpacing,onSelect:()=>p({lineSpacing:"compact"===u.lineSpacing?"relaxed":"compact"}),children:"Compact line height"}),c[9]=u.lineSpacing,c[10]=h,c[11]=p,c[12]=a):a=c[12],c[13]!==l||c[14]!==a?(s=(0,r.jsxs)(o.l.Group,{"aria-label":"Format",selectionVariant:"multiple",variant:"subtle",children:[l,a]}),c[13]=l,c[14]=a,c[15]=s):s=c[15],s):null}function D(){}function F(){}try{C.displayName||(C.displayName="DiffLinePresentationToggles")}catch{}function I(e){let t,i,l,a,s,c,d,f=(0,n.c)(17),{reloadOnChange:m}=e,h=void 0!==m&&m,{data:u}=(0,S.Pe)(),p=u?.splitPreference;f[0]===Symbol.for("react.memo_cache_sentinel")?(t={onSuccess:P,onError:E},f[0]=t):t=f[0];let{mutate:x}=(0,y.U)(t);f[1]===Symbol.for("react.memo_cache_sentinel")?(i=(0,r.jsx)(o.l.GroupHeading,{children:"Layout"}),f[1]=i):i=f[1];let g="unified"===p;f[2]!==h||f[3]!==x?(l=()=>{x({splitPreference:"unified"}),(0,S.bJ)("diff","unified"),h&&window.location.reload()},f[2]=h,f[3]=x,f[4]=l):l=f[4],f[5]!==g||f[6]!==l?(a=(0,r.jsx)(o.l.Item,{selected:g,onSelect:l,children:"Unified"}),f[5]=g,f[6]=l,f[7]=a):a=f[7];let v="split"===p;return f[8]!==h||f[9]!==x?(s=()=>{x({splitPreference:"split"}),(0,S.bJ)("diff","split"),h&&window.location.reload()},f[8]=h,f[9]=x,f[10]=s):s=f[10],f[11]!==v||f[12]!==s?(c=(0,r.jsx)(o.l.Item,{selected:v,onSelect:s,children:"Split"}),f[11]=v,f[12]=s,f[13]=c):c=f[13],f[14]!==a||f[15]!==c?(d=(0,r.jsxs)(o.l.Group,{selectionVariant:"single",children:[i,a,c]}),f[14]=a,f[15]=c,f[16]=d):d=f[16],d}function E(){}function P(){}try{I.displayName||(I.displayName="DiffViewPreferenceToggle")}catch{}var O=i(39419);function T(){let e,t,i,l,a=(0,n.c)(8),{data:s}=(0,S.Pe)();a[0]===Symbol.for("react.memo_cache_sentinel")?(e={onSuccess:$,onError:k},a[0]=e):e=a[0];let{mutate:c}=(0,y.U)(e);if(!s)return null;let d=s.commentsPreference===O.sI.Collapsed;return a[1]===Symbol.for("react.memo_cache_sentinel")?(t=(0,r.jsx)(o.l.Divider,{}),a[1]=t):t=a[1],a[2]!==d||a[3]!==c?(i=()=>c({commentsPreference:d?O.sI.Visible:O.sI.Collapsed}),a[2]=d,a[3]=c,a[4]=i):i=a[4],a[5]!==d||a[6]!==i?(l=(0,r.jsxs)(r.Fragment,{children:[t,(0,r.jsx)(o.l.Group,{"aria-label":"Comments",selectionVariant:"single",children:(0,r.jsx)(o.l.Item,{role:"menuitemcheckbox",selected:d,onSelect:i,children:"Minimize comments"})})]}),a[5]=d,a[6]=i,a[7]=l):l=a[7],l}function k(){}function $(){}try{T.displayName||(T.displayName="DiffCommentsPreferenceToggle")}catch{}var W=i(75367);function A(e){let t,i,c,d,f,m,h,u,p,x,g,y,v=(0,n.c)(26),{invisible:j,lineSpacingPreferenceAvailable:_,onUpdateWhitespace:N,reloadOnSplitPreferenceChange:S,reloadOnWhitespaceChange:w,small:D}=e,F=void 0===_||_,E=void 0!==S&&S,{sendAnalyticsEvent:P}=(0,W.s)();v[0]!==P?(t=()=>{P("diff_view.settings.open","DIFF_VIEW_SETTINGS_BUTTON")},v[0]=P,v[1]=t):t=v[1];let O=t,k=void 0===j||j?"Button--invisible":"Button--secondary",$=D&&"Button--small";v[2]!==k||v[3]!==$?(i=(0,s.$)("Button Button--iconOnly",k,$),v[2]=k,v[3]=$,v[4]=i):i=v[4],v[5]===Symbol.for("react.memo_cache_sentinel")?(c=(0,r.jsx)(l.GearIcon,{}),v[5]=c):c=v[5],v[6]!==O||v[7]!==i?(d=(0,r.jsx)(a.W.Anchor,{children:(0,r.jsx)("button",{className:i,"aria-label":"Open diff view settings",onClick:O,children:c})}),v[6]=O,v[7]=i,v[8]=d):d=v[8],v[9]!==E?(f=(0,r.jsx)(I,{reloadOnChange:E}),v[9]=E,v[10]=f):f=v[10],v[11]===Symbol.for("react.memo_cache_sentinel")?(m=(0,r.jsx)(T,{}),h=(0,r.jsx)(o.l.Divider,{}),v[11]=m,v[12]=h):(m=v[11],h=v[12]);let A=void 0!==w&&w?R:void 0;return v[13]!==F||v[14]!==N||v[15]!==A?(u=(0,r.jsx)(C,{lineSpacingPreferenceAvailable:F,onUpdateWhitespace:N,reloadOnChange:A}),v[13]=F,v[14]=N,v[15]=A,v[16]=u):u=v[16],v[17]!==f||v[18]!==u?(p=(0,r.jsx)(a.W.Overlay,{children:(0,r.jsxs)(o.l,{children:[f,m,h,u]})}),v[17]=f,v[18]=u,v[19]=p):p=v[19],v[20]!==d||v[21]!==p?(x=(0,r.jsxs)(a.W,{children:[d,p]}),v[20]=d,v[21]=p,v[22]=x):x=v[22],v[23]===Symbol.for("react.memo_cache_sentinel")?(g=(0,r.jsx)(b,{}),v[23]=g):g=v[23],v[24]!==x?(y=(0,r.jsxs)(r.Fragment,{children:[x,g]}),v[24]=x,v[25]=y):y=v[25],y}function R(){return window.location.reload()}try{A.displayName||(A.displayName="DiffViewSettings")}catch{}},63869:(e,t,i)=>{i.d(t,{L:()=>s});var r=i(74848),n=i(21728),l=i(38621),a=i(87330),o=i(34164);let s=i(96540).forwardRef((e,t)=>{let i,s,c,d=(0,n.c)(17),{expanded:f,testid:m,ariaLabel:h,ariaControls:u,onToggleExpanded:p,alignment:x,dataHotkey:g,className:y,size:v,tooltipDirection:j,variant:b}=e,_=f?`collapse-${m}`:`expand-${m}`,N=f?"left"===x?l.SidebarExpandIcon:l.SidebarCollapseIcon:"left"===x?l.SidebarCollapseIcon:l.SidebarExpandIcon;d[0]!==p?(i=e=>{p(e)},d[0]=p,d[1]=i):i=d[1];let S=b??"invisible";return d[2]!==y?(s=(0,o.$)(y,"fgColor-muted"),d[2]=y,d[3]=s):s=d[3],d[4]!==u||d[5]!==h||d[6]!==g||d[7]!==f||d[8]!==t||d[9]!==v||d[10]!==_||d[11]!==N||d[12]!==i||d[13]!==S||d[14]!==s||d[15]!==j?(c=(0,r.jsx)(a.K,{"aria-label":h,tooltipDirection:j,ref:t,"data-testid":_,"aria-expanded":f,"aria-controls":u,icon:N,"data-hotkey":g,onClick:i,variant:S,size:v,className:s}),d[4]=u,d[5]=h,d[6]=g,d[7]=f,d[8]=t,d[9]=v,d[10]=_,d[11]=N,d[12]=i,d[13]=S,d[14]=s,d[15]=j,d[16]=c):c=d[16],c});s.displayName="ExpandButton"}}]);
//# sourceMappingURL=ui_packages_use-hide-footer_use-hide-footer_ts-ui_packages_commits_shared_use-tree-pane_tsx-u-59d336-2d608bbf5494.js.map